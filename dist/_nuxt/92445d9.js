(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{264:function(t,e,o){"use strict";o.r(e);var n=o(44),r={middleware:["auth-user"],data:function(){return{post:{}}},computed:{currentUser:function(){return this.$store.state.auth.user}},methods:{discardPost:function(){1==confirm("Changes that you made may not be saved.")&&this.$router.push("/dashboard")},savePost:function(){var t=this;t.$nuxt.$loading.start();var e=this.currentUser,data={type:[{target_id:"article"}],title:[{value:this.post.title}],body:[{value:this.post.body,format:"basic_html"}],uid:[{target_id:e.uid}]};n.a.createResource("POST","/node",data).then((function(o){t.notifyResponse("Post Created Sucessfully."),t.$router.push("/athlete/"+e.uid+"/posts"),t.$nuxt.$loading.finish()})).catch((function(e){t.$nuxt.$loading.finish(),t.notifyResponse("Something went wrong, Please try again!!","error")}))},notifyResponse:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3;this.$swal({type:e,title:t,showConfirmButton:!1,timer:o})}}},l=o(13),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-md-8 col-md-offset-2 mt-lg mb-xl",attrs:{id:"new-post"}},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[o("div",{staticClass:"row align-items-center"},[t._m(0),t._v(" "),o("div",{staticClass:"col-4 text-right"},[o("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.discardPost(e)}}},[o("i",{staticClass:"fa fa-ban"}),t._v(" Cancel")]),t._v(" "),o("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.savePost(e)}}},[o("i",{staticClass:"fa fa-plus"}),t._v(" Save")])])])]),t._v(" "),o("div",{staticClass:"card-body"},[o("div",{staticClass:"form-group"},[o("label",{staticClass:"control-label",attrs:{for:"title"}},[t._v("Title")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Add a title"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",{staticClass:"control-label",attrs:{for:"title"}},[t._v("Body")]),t._v(" "),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.body,expression:"post.body"}],staticClass:"form-control",attrs:{placeholder:"Whats going on?"},domProps:{value:t.post.body},on:{input:function(e){e.target.composing||t.$set(t.post,"body",e.target.value)}}})])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-8"},[e("h3",{staticClass:"mb-0"},[this._v("New Post ")])])}],!1,null,null,null);e.default=component.exports}}]);